@model UserRegisterVM
@{
Layout = null;
}

<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ Ø¬Ø¯ÙŠØ¯</title>
    <link rel="stylesheet" href="~/css/Register.css" />

</head>
<body>
@* <div id="notification">@TempData=["Message"]</div> *@
<div class="auth-container">
    <div class="auth-logo">
        <div class="auth-logo-icon">
            <svg width="60" height="60" viewBox="0 0 60 60" fill="none" xmlns="http://www.w3.org/2000/svg">
                <circle cx="30" cy="30" r="28" fill="url(#gradient)"/>
                <path d="M30 15C22.268 15 16 21.268 16 29C16 36.732 22.268 43 30 43C37.732 43 44 36.732 44 29C44 21.268 37.732 15 30 15ZM30 25C32.21 25 34 26.79 34 29C34 31.21 32.21 33 30 33C27.79 33 26 31.21 26 29C26 26.79 27.79 25 30 25Z" fill="white"/>
                <defs>
                    <linearGradient id="gradient" x1="0" y1="0" x2="60" y2="60">
                        <stop offset="0%" stop-color="#667eea"/>
                        <stop offset="100%" stop-color="#764ba2"/>
                    </linearGradient>
                </defs>
            </svg>
        </div>
        <h1>Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ Ø¬Ø¯ÙŠØ¯</h1>
        <p>Ø§Ù†Ø¶Ù… Ø¥Ù„ÙŠÙ†Ø§ Ø§Ù„ÙŠÙˆÙ… ÙˆØ§Ø¨Ø¯Ø£ Ø±Ø­Ù„ØªÙƒ Ù…Ø¹Ù†Ø§</p>
    </div>

    @if (TempData["SuccessMessage"] != null)
    {
        <div class="auth-alert auth-alert-success">
            <span class="alert-icon">âœ“</span>
            <span>@TempData["SuccessMessage"]</span>
        </div>
    }
    @if (TempData["ErrorMessage"] != null)
    {
        <div class="auth-alert auth-alert-danger">
            <span class="alert-icon">âœ•</span>
            <span>@TempData["ErrorMessage"]</span>
        </div>
    }

    <form asp-action="Register" asp-controller="User" method="post" id="registerForm">
        @Html.AntiForgeryToken()
        <div asp-validation-summary="ModelOnly" class="validation-summary-errors"></div>

        <div class="auth-input-group">
            <label asp-for="Name">
                <span class="label-icon">ğŸ‘¤</span>
                Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
            </label>
            <div class="input-wrapper">
                <input asp-for="Name" type="text" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…" autocomplete="username"/>
                <span class="input-icon">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                        <circle cx="12" cy="7" r="4"></circle>
                    </svg>
                </span>
            </div>
            <span asp-validation-for="Name" class="text-danger"></span>
        </div>

        <div class="auth-input-group">
            <label asp-for="Email">
                <span class="label-icon">ğŸ“§</span>
                Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ
            </label>
            <div class="input-wrapper">
                <input asp-for="Email" type="email" placeholder="example@domain.com" autocomplete="email"/>
                <span class="input-icon">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path>
                        <polyline points="22,6 12,13 2,6"></polyline>
                    </svg>
                </span>
            </div>
            <span asp-validation-for="Email" class="text-danger"></span>
        </div>

        <div class="auth-input-group">
            <label asp-for="Password">
                <span class="label-icon">ğŸ”’</span>
                ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±
            </label>
            <div class="input-wrapper">
                <input asp-for="Password" type="password" id="passwordInput" placeholder="Ø£Ø¯Ø®Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±" autocomplete="new-password"/>
                <span class="input-icon toggle-password" onclick="togglePassword()">
                    <svg id="eyeIcon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                        <circle cx="12" cy="12" r="3"></circle>
                    </svg>
                </span>
            </div>
            <span asp-validation-for="Password" class="text-danger"></span>

            <div class="password-strength" id="passwordStrength">
                <div class="strength-bars">
                    <span class="strength-bar"></span>
                    <span class="strength-bar"></span>
                    <span class="strength-bar"></span>
                    <span class="strength-bar"></span>
                </div>
                <span class="strength-text"></span>
            </div>
        </div>

        <div class="auth-checkbox-group">
            <input type="checkbox" id="terms" name="terms" required/>
            <label for="terms">
                Ø£ÙˆØ§ÙÙ‚ Ø¹Ù„Ù‰ <a asp-action="Terms" asp-controller="Home" class="auth-link">Ø§Ù„Ø´Ø±ÙˆØ· ÙˆØ§Ù„Ø£Ø­ÙƒØ§Ù…</a> Ùˆ <a asp-action="Privacy" asp-controller="Home" class="auth-link">Ø³ÙŠØ§Ø³Ø© Ø§Ù„Ø®ØµÙˆØµÙŠØ©</a>
            </label>
        </div>

        <button type="submit" class="auth-btn" id="submitBtn">
            <span class="btn-text">Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨</span>
            <span class="btn-icon">â†’</span>
        </button>
    </form>

    <div class="auth-divider"><span>Ø£Ùˆ Ø§Ù„ØªØ³Ø¬ÙŠÙ„ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù…</span></div>

    <div class="auth-social-login">
        <a href="@Url.Action("GoogleLogin", "Account")" class="auth-social-btn">
            <svg width="20" height="20" viewBox="0 0 24 24">
                <path fill="#4285F4" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"/>
                <path fill="#34A853" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"/>
                <path fill="#FBBC05" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"/>
                <path fill="#EA4335" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"/>
            </svg>
            Google
        </a>
        <a href="@Url.Action("GitHubLogin", "Account")" class="auth-social-btn">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
            </svg>
            GitHub
        </a>
    </div>

    <div class="auth-footer-text">
        Ù‡Ù„ Ù„Ø¯ÙŠÙƒ Ø­Ø³Ø§Ø¨ Ø¨Ø§Ù„ÙØ¹Ù„ØŸ <a asp-action="Login" asp-controller="User">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</a>
    </div>
</div>

<script src="~/lib/jquery/dist/jquery.min.js"></script>
<script src="~/lib/jquery-validation/dist/jquery.validate.min.js"></script>
<script src="~/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.min.js"></script>

<script>
    window.onload = function() {
        const notification = document.getElementById("notification");
        if(notification.textContent.trim() !== "") {
            notification.style.display = "block";

            setTimeout(() => {
                notification.style.opacity = "0";
                setTimeout(() => {
                    notification.style.display = "none";
                }, 500);
            }, 3000);
        }
    };
    function togglePassword() {
        const passwordInput = document.getElementById('passwordInput');
        const eyeIcon = document.getElementById('eyeIcon');

        if (passwordInput.type === 'password') {
            passwordInput.type = 'text';
            eyeIcon.innerHTML = '<path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"></path><line x1="1" y1="1" x2="23" y2="23"></line>';
        } else {
            passwordInput.type = 'password';
            eyeIcon.innerHTML = '<path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path><circle cx="12" cy="12" r="3"></circle>';
        }
    }

    document.getElementById('passwordInput').addEventListener('input', function(e) {
        const password = e.target.value;
        const strengthIndicator = document.getElementById('passwordStrength');

        if (password.length === 0) {
            strengthIndicator.style.display = 'none';
            return;
        }

        strengthIndicator.style.display = 'block';

        let strength = 0;
        const bars = strengthIndicator.querySelectorAll('.strength-bar');
        const strengthText = strengthIndicator.querySelector('.strength-text');

        if (password.length >= 8) strength++;
        if (password.match(/[a-z]/) && password.match(/[A-Z]/)) strength++;
        if (password.match(/[0-9]/)) strength++;
        if (password.match(/[^a-zA-Z0-9]/)) strength++;

        bars.forEach(bar => {
            bar.classList.remove('weak', 'fair', 'good', 'strong');
        });

        const strengthLevels = ['Ø¶Ø¹ÙŠÙØ©', 'Ù…ØªÙˆØ³Ø·Ø©', 'Ø¬ÙŠØ¯Ø©', 'Ù‚ÙˆÙŠØ©'];
        const strengthClasses = ['weak', 'fair', 'good', 'strong'];

        for (let i = 0; i < strength; i++) {
            bars[i].classList.add(strengthClasses[strength - 1]);
        }

        strengthText.textContent = 'Ù‚ÙˆØ© ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±: ' + strengthLevels[strength - 1];
        strengthText.className = 'strength-text ' + strengthClasses[strength - 1];
    });

    document.getElementById('registerForm').addEventListener('submit', function(e) {
        const submitBtn = document.getElementById('submitBtn');
        submitBtn.classList.add('loading');
        submitBtn.disabled = true;
    });

    document.addEventListener('DOMContentLoaded', function() {
        const alerts = document.querySelectorAll('.auth-alert');
        alerts.forEach(alert => {
            setTimeout(() => {
                alert.style.animation = 'slideOut 0.3s ease';
                setTimeout(() => alert.remove(), 300);
            }, 5000);
        });
    });
</script>
</body>
</html>